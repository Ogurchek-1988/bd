<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>

<ui:composition template="/resources/template/public-template-new.xhtml"
                xmlns="http://www.w3c.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:custom="http://xmlns.jcp.org/jsf/composite/custom"
>
   <h:head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
   </h:head>

   <ui:define name="title">#{i18n['portal.title']}</ui:define>

   <span>kyfeusdfcs #{i18n['portal.title']} </span>

   <h:outputText value="#{i18n['portal.title']}"/>

   <ui:define name="content">

<div class="content">
   <h:form>


      <h2>Работники склада</h2>
   <p:dataTable var="supplier" value="#{suppliersBean.all}"
                class="rc-table-large organizations-table" widgetVar="courseTable"
                paginator="true" paginatorAlwaysVisible="false" rows="20" id="course-table"
                paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport} {RowsPerPageDropdown}"
                currentPageReportTemplate="{startRecord}-{endRecord} #{i18n['datatable.paginator.of']}  {totalRecords}"
                rowsPerPageTemplate="10,20,30" lazy="true" emptyMessage="Записей не найдено">

      <p:column headerText="Имя">
         <h:outputText value="#{supplier.name}" escape="false"/>
      </p:column>
      <p:column headerText="Действия">
         <h:commandLink action="#{suppliersBean.delete(supplier.id)}"
                        class="rc-action-link">
            Удалить работника
         </h:commandLink>
      </p:column>

   </p:dataTable>
 <div>

    <h2>Добавить работника</h2>
    <div style="display: flex;
    flex-direction: column;
    width: 20em;">
       <h:outputText value="Введите имя работника" />

       <p:inputText value="#{suppliersBean.sup_name}"/>

       <p:commandLink styleClass="rc-action-button rc-inverted-button rc-button-small"
                      id="save-btn"
                      value="Сохранить" update="course-table" process="@form"
                      action="#{suppliersBean.save(suppliersBean.sup_name)}"/>
    </div>
 </div>
   </h:form>
</div>

   </ui:define>


</ui:composition>
